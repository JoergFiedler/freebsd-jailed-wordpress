---
galaxy_info:
  author: Joerg Fiedler
  description: Provides a jailed WordPress server.
  license: BSD
  min_ansible_version: 2.0
  platforms:
  - name: FreeBSD
    versions:
    - 10.2
    - 10.3
    - 11.0
  galaxy_tags:
  - FreeBSD
  - jails
  - iocage
  - cloud
  - ec2
  - php-fpm
  - WordPress
  - nginx
allow_duplicates: yes
dependencies:
  - { role: JoergFiedler.freebsd-jailed-nginx,
      nginx_servers: [ {
        aliases: '{{ wp_server_aliases | default() }}',
        default: '{{ wp_server_default }}',
        force_https: '{{ wp_server_force_https }}',
        force_www: '{{ wp_server_force_www }}',
        https: {
          enabled: '{{wp_server_force_https }}',
          letsencrypt_enabled: '{{ wp_server_force_https }}'
        },
        name: '{{ wp_server_name }}',
        php_fpm_enabled: true,
        sftp_enabled: true,
        sftp: {
          authorized_keys: '{{ wp_sftp_authorized_keys }}',
          home: '{{ wp_server_webroot_home }}',
          port: '{{ wp_sftp_port }}',
          user: '{{ wp_sftp_user }}',
          uuid: '{{ wp_sftp_uuid }}'
        }
      }]}
